#include <ltStar_temp.h>
#include <gtest/gtest.h>
#include <queue>
#include <vector>

#include <rosbag/bag.h>
#include <rosbag/view.h>
#include <visualization_msgs/Marker.h>

#include <cmath>
#include <chrono>

#define _USE_MATH_DEFINES

namespace LazyThetaStarOctree
{
	bool allPointsAreCorrect(std::list <octomath::Vector3>const points , 
		std::list <octomath::Vector3> const right_answers)
	{

		bool all_points_are_correct = true;
		std::list <octomath::Vector3> wrong_answers;
		octomath::Vector3 temp;

		if(points.size() != right_answers.size())
		{
			all_points_are_correct = false;
			ROS_WARN_STREAM("There are " << points.size() << " points but there should be " << right_answers.size());
		}
		for (octomath::Vector3 n : points)
		{
			bool found  = false;
			for(octomath::Vector3 answer : right_answers)
			{
				if( equal(answer, (n)) )
 				{
 					found  = true;
 					break;
				}
			}
				
			if(!found)
			{
				wrong_answers.push_back(n);
				all_points_are_correct = false;
			}
		}


		if(!wrong_answers.empty())
		{
			ROS_WARN_STREAM("There are " << wrong_answers.size() << " wrong answers.");
			std::cout << std::setprecision(30);

			// octomath::Vector3 wrong;
			// for (auto w : wrong_answers)
			// {
			// 	std::cout << "Wrong answer: " << w << "\n";
			// 	wrong = w;
			// }
			// std::cout << "Right answers: " <<  "\n";
			// for(octomath::Vector3 nv : right_answers)
			// {
			// 	std::cout << nv << "\n";
			// }

		}

		return all_points_are_correct;
	}

	TEST (LazyThetaStarTests, ObstacleAvoidance_Up)
	{
		ros::Publisher marker_pub;
		octomap::OcTree octree ("data/20180808_1026_octree_noPath.bt");
		double safety_margin = 5;
		octomath::Vector3 geofence(safety_margin, safety_margin, safety_margin);
		octomath::Vector3 start (26, -0.84, 8);
		octomath::Vector3 end (26, -0.84, 12);
		std::list <octomath::Vector3> start_points_correct = { 
			octomath::Vector3 (23.7, -3.14, 8),  
			octomath::Vector3 (23.7, -2.74, 8),  
			octomath::Vector3 (23.7, -2.34, 8),  
			octomath::Vector3 (23.7, -1.94, 8),  
			octomath::Vector3 (23.7, -1.54, 8),  
			octomath::Vector3 (23.7, -1.14, 8),  
			octomath::Vector3 (23.7, -0.74, 8),  
			octomath::Vector3 (23.7, -0.34, 8),  
			octomath::Vector3 (23.7, 0.06, 8),  
			octomath::Vector3 (23.7, 0.46, 8),  
			octomath::Vector3 (23.7, 0.86, 8),  
			octomath::Vector3 (23.7, 1.26, 8),  
			octomath::Vector3 (23.7, 1.66, 8),  
			octomath::Vector3 (24.1, -3.14, 8),  
			octomath::Vector3 (24.1, -2.74, 8),  
			octomath::Vector3 (24.1, -2.34, 8),  
			octomath::Vector3 (24.1, -1.94, 8),  
			octomath::Vector3 (24.1, -1.54, 8),  
			octomath::Vector3 (24.1, -1.14, 8),  
			octomath::Vector3 (24.1, -0.74, 8),  
			octomath::Vector3 (24.1, -0.34, 8),  
			octomath::Vector3 (24.1, 0.06, 8),  
			octomath::Vector3 (24.1, 0.46, 8),  
			octomath::Vector3 (24.1, 0.86, 8),  
			octomath::Vector3 (24.1, 1.26, 8),  
			octomath::Vector3 (24.1, 1.66, 8),  
			octomath::Vector3 (24.5, -3.14, 8),  
			octomath::Vector3 (24.5, -2.74, 8),  
			octomath::Vector3 (24.5, -2.34, 8),  
			octomath::Vector3 (24.5, -1.94, 8),  
			octomath::Vector3 (24.5, -1.54, 8),  
			octomath::Vector3 (24.5, -1.14, 8),  
			octomath::Vector3 (24.5, -0.74, 8),  
			octomath::Vector3 (24.5, -0.34, 8),  
			octomath::Vector3 (24.5, 0.06, 8),  
			octomath::Vector3 (24.5, 0.46, 8),  
			octomath::Vector3 (24.5, 0.86, 8),  
			octomath::Vector3 (24.5, 1.26, 8),  
			octomath::Vector3 (24.5, 1.66, 8),  
			octomath::Vector3 (24.9, -3.14, 8),  
			octomath::Vector3 (24.9, -2.74, 8),  
			octomath::Vector3 (24.9, -2.34, 8),  
			octomath::Vector3 (24.9, -1.94, 8),  
			octomath::Vector3 (24.9, -1.54, 8),  
			octomath::Vector3 (24.9, -1.14, 8),  
			octomath::Vector3 (24.9, -0.74, 8),  
			octomath::Vector3 (24.9, -0.34, 8),  
			octomath::Vector3 (24.9, 0.06, 8),  
			octomath::Vector3 (24.9, 0.46, 8),  
			octomath::Vector3 (24.9, 0.86, 8),  
			octomath::Vector3 (24.9, 1.26, 8),  
			octomath::Vector3 (24.9, 1.66, 8),  
			octomath::Vector3 (25.3, -3.14, 8),  
			octomath::Vector3 (25.3, -2.74, 8),  
			octomath::Vector3 (25.3, -2.34, 8),  
			octomath::Vector3 (25.3, -1.94, 8),  
			octomath::Vector3 (25.3, -1.54, 8),  
			octomath::Vector3 (25.3, -1.14, 8),  
			octomath::Vector3 (25.3, -0.74, 8),  
			octomath::Vector3 (25.3, -0.34, 8),  
			octomath::Vector3 (25.3, 0.06, 8),  
			octomath::Vector3 (25.3, 0.46, 8),  
			octomath::Vector3 (25.3, 0.86, 8),  
			octomath::Vector3 (25.3, 1.26, 8),  
			octomath::Vector3 (25.3, 1.66, 8),  
			octomath::Vector3 (25.7, -3.14, 8),  
			octomath::Vector3 (25.7, -2.74, 8),  
			octomath::Vector3 (25.7, -2.34, 8),  
			octomath::Vector3 (25.7, -1.94, 8),  
			octomath::Vector3 (25.7, -1.54, 8),  
			octomath::Vector3 (25.7, -1.14, 8),  
			octomath::Vector3 (25.7, -0.74, 8),  
			octomath::Vector3 (25.7, -0.34, 8),  
			octomath::Vector3 (25.7, 0.06, 8),  
			octomath::Vector3 (25.7, 0.46, 8),  
			octomath::Vector3 (25.7, 0.86, 8),  
			octomath::Vector3 (25.7, 1.26, 8),  
			octomath::Vector3 (25.7, 1.66, 8),  
			octomath::Vector3 (26.1, -3.14, 8),  
			octomath::Vector3 (26.1, -2.74, 8),  
			octomath::Vector3 (26.1, -2.34, 8),  
			octomath::Vector3 (26.1, -1.94, 8),  
			octomath::Vector3 (26.1, -1.54, 8),  
			octomath::Vector3 (26.1, -1.14, 8),  
			octomath::Vector3 (26.1, -0.74, 8),  
			octomath::Vector3 (26.1, -0.34, 8),  
			octomath::Vector3 (26.1, 0.06, 8),  
			octomath::Vector3 (26.1, 0.46, 8),  
			octomath::Vector3 (26.1, 0.86, 8),  
			octomath::Vector3 (26.1, 1.26, 8),  
			octomath::Vector3 (26.1, 1.66, 8),  
			octomath::Vector3 (26.5, -3.14, 8),  
			octomath::Vector3 (26.5, -2.74, 8),  
			octomath::Vector3 (26.5, -2.34, 8),  
			octomath::Vector3 (26.5, -1.94, 8),  
			octomath::Vector3 (26.5, -1.54, 8),  
			octomath::Vector3 (26.5, -1.14, 8),  
			octomath::Vector3 (26.5, -0.74, 8),  
			octomath::Vector3 (26.5, -0.34, 8),  
			octomath::Vector3 (26.5, 0.06, 8),  
			octomath::Vector3 (26.5, 0.46, 8),  
			octomath::Vector3 (26.5, 0.86, 8),  
			octomath::Vector3 (26.5, 1.26, 8),  
			octomath::Vector3 (26.5, 1.66, 8),  
			octomath::Vector3 (26.9, -3.14, 8),  
			octomath::Vector3 (26.9, -2.74, 8),  
			octomath::Vector3 (26.9, -2.34, 8),  
			octomath::Vector3 (26.9, -1.94, 8),  
			octomath::Vector3 (26.9, -1.54, 8),  
			octomath::Vector3 (26.9, -1.14, 8),  
			octomath::Vector3 (26.9, -0.74, 8),  
			octomath::Vector3 (26.9, -0.34, 8),  
			octomath::Vector3 (26.9, 0.06, 8),  
			octomath::Vector3 (26.9, 0.46, 8),  
			octomath::Vector3 (26.9, 0.86, 8),  
			octomath::Vector3 (26.9, 1.26, 8),  
			octomath::Vector3 (26.9, 1.66, 8),  
			octomath::Vector3 (27.3, -3.14, 8),  
			octomath::Vector3 (27.3, -2.74, 8),  
			octomath::Vector3 (27.3, -2.34, 8),  
			octomath::Vector3 (27.3, -1.94, 8),  
			octomath::Vector3 (27.3, -1.54, 8),  
			octomath::Vector3 (27.3, -1.14, 8),  
			octomath::Vector3 (27.3, -0.74, 8),  
			octomath::Vector3 (27.3, -0.34, 8),  
			octomath::Vector3 (27.3, 0.06, 8),  
			octomath::Vector3 (27.3, 0.46, 8),  
			octomath::Vector3 (27.3, 0.86, 8),  
			octomath::Vector3 (27.3, 1.26, 8),  
			octomath::Vector3 (27.3, 1.66, 8),  
			octomath::Vector3 (27.7, -3.14, 8),  
			octomath::Vector3 (27.7, -2.74, 8),  
			octomath::Vector3 (27.7, -2.34, 8),  
			octomath::Vector3 (27.7, -1.94, 8),  
			octomath::Vector3 (27.7, -1.54, 8),  
			octomath::Vector3 (27.7, -1.14, 8),  
			octomath::Vector3 (27.7, -0.74, 8),  
			octomath::Vector3 (27.7, -0.34, 8),  
			octomath::Vector3 (27.7, 0.06, 8),  
			octomath::Vector3 (27.7, 0.46, 8),  
			octomath::Vector3 (27.7, 0.86, 8),  
			octomath::Vector3 (27.7, 1.26, 8),  
			octomath::Vector3 (27.7, 1.66, 8),  
			octomath::Vector3 (28.1, -3.14, 8),  
			octomath::Vector3 (28.1, -2.74, 8),  
			octomath::Vector3 (28.1, -2.34, 8),  
			octomath::Vector3 (28.1, -1.94, 8),  
			octomath::Vector3 (28.1, -1.54, 8),  
			octomath::Vector3 (28.1, -1.14, 8),  
			octomath::Vector3 (28.1, -0.74, 8),  
			octomath::Vector3 (28.1, -0.34, 8),  
			octomath::Vector3 (28.1, 0.06, 8),  
			octomath::Vector3 (28.1, 0.46, 8),  
			octomath::Vector3 (28.1, 0.86, 8),  
			octomath::Vector3 (28.1, 1.26, 8),  
			octomath::Vector3 (28.1, 1.66, 8),  
			octomath::Vector3 (28.5, -3.14, 8),  
			octomath::Vector3 (28.5, -2.74, 8),  
			octomath::Vector3 (28.5, -2.34, 8),  
			octomath::Vector3 (28.5, -1.94, 8),  
			octomath::Vector3 (28.5, -1.54, 8),  
			octomath::Vector3 (28.5, -1.14, 8),  
			octomath::Vector3 (28.5, -0.74, 8),  
			octomath::Vector3 (28.5, -0.34, 8),  
			octomath::Vector3 (28.5, 0.06, 8),  
			octomath::Vector3 (28.5, 0.46, 8),  
			octomath::Vector3 (28.5, 0.86, 8),  
			octomath::Vector3 (28.5, 1.26, 8),  
			octomath::Vector3 (28.5, 1.66, 8),  
		}; 
		std::list <octomath::Vector3> end_points_correct = { 
			octomath::Vector3 (23.7, -3.14, 12),  
			octomath::Vector3 (23.7, -2.74, 12),  
			octomath::Vector3 (23.7, -2.34, 12),  
			octomath::Vector3 (23.7, -1.94, 12),  
			octomath::Vector3 (23.7, -1.54, 12),  
			octomath::Vector3 (23.7, -1.14, 12),  
			octomath::Vector3 (23.7, -0.74, 12),  
			octomath::Vector3 (23.7, -0.34, 12),  
			octomath::Vector3 (23.7, 0.06, 12),  
			octomath::Vector3 (23.7, 0.46, 12),  
			octomath::Vector3 (23.7, 0.86, 12),  
			octomath::Vector3 (23.7, 1.26, 12),  
			octomath::Vector3 (23.7, 1.66, 12),  
			octomath::Vector3 (24.1, -3.14, 12),  
			octomath::Vector3 (24.1, -2.74, 12),  
			octomath::Vector3 (24.1, -2.34, 12),  
			octomath::Vector3 (24.1, -1.94, 12),  
			octomath::Vector3 (24.1, -1.54, 12),  
			octomath::Vector3 (24.1, -1.14, 12),  
			octomath::Vector3 (24.1, -0.74, 12),  
			octomath::Vector3 (24.1, -0.34, 12),  
			octomath::Vector3 (24.1, 0.06, 12),  
			octomath::Vector3 (24.1, 0.46, 12),  
			octomath::Vector3 (24.1, 0.86, 12),  
			octomath::Vector3 (24.1, 1.26, 12),  
			octomath::Vector3 (24.1, 1.66, 12),  
			octomath::Vector3 (24.5, -3.14, 12),  
			octomath::Vector3 (24.5, -2.74, 12),  
			octomath::Vector3 (24.5, -2.34, 12),  
			octomath::Vector3 (24.5, -1.94, 12),  
			octomath::Vector3 (24.5, -1.54, 12),  
			octomath::Vector3 (24.5, -1.14, 12),  
			octomath::Vector3 (24.5, -0.74, 12),  
			octomath::Vector3 (24.5, -0.34, 12),  
			octomath::Vector3 (24.5, 0.06, 12),  
			octomath::Vector3 (24.5, 0.46, 12),  
			octomath::Vector3 (24.5, 0.86, 12),  
			octomath::Vector3 (24.5, 1.26, 12),  
			octomath::Vector3 (24.5, 1.66, 12),  
			octomath::Vector3 (24.9, -3.14, 12),  
			octomath::Vector3 (24.9, -2.74, 12),  
			octomath::Vector3 (24.9, -2.34, 12),  
			octomath::Vector3 (24.9, -1.94, 12),  
			octomath::Vector3 (24.9, -1.54, 12),  
			octomath::Vector3 (24.9, -1.14, 12),  
			octomath::Vector3 (24.9, -0.74, 12),  
			octomath::Vector3 (24.9, -0.34, 12),  
			octomath::Vector3 (24.9, 0.06, 12),  
			octomath::Vector3 (24.9, 0.46, 12),  
			octomath::Vector3 (24.9, 0.86, 12),  
			octomath::Vector3 (24.9, 1.26, 12),  
			octomath::Vector3 (24.9, 1.66, 12),  
			octomath::Vector3 (25.3, -3.14, 12),  
			octomath::Vector3 (25.3, -2.74, 12),  
			octomath::Vector3 (25.3, -2.34, 12),  
			octomath::Vector3 (25.3, -1.94, 12),  
			octomath::Vector3 (25.3, -1.54, 12),  
			octomath::Vector3 (25.3, -1.14, 12),  
			octomath::Vector3 (25.3, -0.74, 12),  
			octomath::Vector3 (25.3, -0.34, 12),  
			octomath::Vector3 (25.3, 0.06, 12),  
			octomath::Vector3 (25.3, 0.46, 12),  
			octomath::Vector3 (25.3, 0.86, 12),  
			octomath::Vector3 (25.3, 1.26, 12),  
			octomath::Vector3 (25.3, 1.66, 12),  
			octomath::Vector3 (25.7, -3.14, 12),  
			octomath::Vector3 (25.7, -2.74, 12),  
			octomath::Vector3 (25.7, -2.34, 12),  
			octomath::Vector3 (25.7, -1.94, 12),  
			octomath::Vector3 (25.7, -1.54, 12),  
			octomath::Vector3 (25.7, -1.14, 12),  
			octomath::Vector3 (25.7, -0.74, 12),  
			octomath::Vector3 (25.7, -0.34, 12),  
			octomath::Vector3 (25.7, 0.06, 12),  
			octomath::Vector3 (25.7, 0.46, 12),  
			octomath::Vector3 (25.7, 0.86, 12),  
			octomath::Vector3 (25.7, 1.26, 12),  
			octomath::Vector3 (25.7, 1.66, 12),  
			octomath::Vector3 (26.1, -3.14, 12),  
			octomath::Vector3 (26.1, -2.74, 12),  
			octomath::Vector3 (26.1, -2.34, 12),  
			octomath::Vector3 (26.1, -1.94, 12),  
			octomath::Vector3 (26.1, -1.54, 12),  
			octomath::Vector3 (26.1, -1.14, 12),  
			octomath::Vector3 (26.1, -0.74, 12),  
			octomath::Vector3 (26.1, -0.34, 12),  
			octomath::Vector3 (26.1, 0.06, 12),  
			octomath::Vector3 (26.1, 0.46, 12),  
			octomath::Vector3 (26.1, 0.86, 12),  
			octomath::Vector3 (26.1, 1.26, 12),  
			octomath::Vector3 (26.1, 1.66, 12),  
			octomath::Vector3 (26.5, -3.14, 12),  
			octomath::Vector3 (26.5, -2.74, 12),  
			octomath::Vector3 (26.5, -2.34, 12),  
			octomath::Vector3 (26.5, -1.94, 12),  
			octomath::Vector3 (26.5, -1.54, 12),  
			octomath::Vector3 (26.5, -1.14, 12),  
			octomath::Vector3 (26.5, -0.74, 12),  
			octomath::Vector3 (26.5, -0.34, 12),  
			octomath::Vector3 (26.5, 0.06, 12),  
			octomath::Vector3 (26.5, 0.46, 12),  
			octomath::Vector3 (26.5, 0.86, 12),  
			octomath::Vector3 (26.5, 1.26, 12),  
			octomath::Vector3 (26.5, 1.66, 12),  
			octomath::Vector3 (26.9, -3.14, 12),  
			octomath::Vector3 (26.9, -2.74, 12),  
			octomath::Vector3 (26.9, -2.34, 12),  
			octomath::Vector3 (26.9, -1.94, 12),  
			octomath::Vector3 (26.9, -1.54, 12),  
			octomath::Vector3 (26.9, -1.14, 12),  
			octomath::Vector3 (26.9, -0.74, 12),  
			octomath::Vector3 (26.9, -0.34, 12),  
			octomath::Vector3 (26.9, 0.06, 12),  
			octomath::Vector3 (26.9, 0.46, 12),  
			octomath::Vector3 (26.9, 0.86, 12),  
			octomath::Vector3 (26.9, 1.26, 12),  
			octomath::Vector3 (26.9, 1.66, 12),  
			octomath::Vector3 (27.3, -3.14, 12),  
			octomath::Vector3 (27.3, -2.74, 12),  
			octomath::Vector3 (27.3, -2.34, 12),  
			octomath::Vector3 (27.3, -1.94, 12),  
			octomath::Vector3 (27.3, -1.54, 12),  
			octomath::Vector3 (27.3, -1.14, 12),  
			octomath::Vector3 (27.3, -0.74, 12),  
			octomath::Vector3 (27.3, -0.34, 12),  
			octomath::Vector3 (27.3, 0.06, 12),  
			octomath::Vector3 (27.3, 0.46, 12),  
			octomath::Vector3 (27.3, 0.86, 12),  
			octomath::Vector3 (27.3, 1.26, 12),  
			octomath::Vector3 (27.3, 1.66, 12),  
			octomath::Vector3 (27.7, -3.14, 12),  
			octomath::Vector3 (27.7, -2.74, 12),  
			octomath::Vector3 (27.7, -2.34, 12),  
			octomath::Vector3 (27.7, -1.94, 12),  
			octomath::Vector3 (27.7, -1.54, 12),  
			octomath::Vector3 (27.7, -1.14, 12),  
			octomath::Vector3 (27.7, -0.74, 12),  
			octomath::Vector3 (27.7, -0.34, 12),  
			octomath::Vector3 (27.7, 0.06, 12),  
			octomath::Vector3 (27.7, 0.46, 12),  
			octomath::Vector3 (27.7, 0.86, 12),  
			octomath::Vector3 (27.7, 1.26, 12),  
			octomath::Vector3 (27.7, 1.66, 12),  
			octomath::Vector3 (28.1, -3.14, 12),  
			octomath::Vector3 (28.1, -2.74, 12),  
			octomath::Vector3 (28.1, -2.34, 12),  
			octomath::Vector3 (28.1, -1.94, 12),  
			octomath::Vector3 (28.1, -1.54, 12),  
			octomath::Vector3 (28.1, -1.14, 12),  
			octomath::Vector3 (28.1, -0.74, 12),  
			octomath::Vector3 (28.1, -0.34, 12),  
			octomath::Vector3 (28.1, 0.06, 12),  
			octomath::Vector3 (28.1, 0.46, 12),  
			octomath::Vector3 (28.1, 0.86, 12),  
			octomath::Vector3 (28.1, 1.26, 12),  
			octomath::Vector3 (28.1, 1.66, 12),  
			octomath::Vector3 (28.5, -3.14, 12),  
			octomath::Vector3 (28.5, -2.74, 12),  
			octomath::Vector3 (28.5, -2.34, 12),  
			octomath::Vector3 (28.5, -1.94, 12),  
			octomath::Vector3 (28.5, -1.54, 12),  
			octomath::Vector3 (28.5, -1.14, 12),  
			octomath::Vector3 (28.5, -0.74, 12),  
			octomath::Vector3 (28.5, -0.34, 12),  
			octomath::Vector3 (28.5, 0.06, 12),  
			octomath::Vector3 (28.5, 0.46, 12),  
			octomath::Vector3 (28.5, 0.86, 12),  
			octomath::Vector3 (28.5, 1.26, 12),  
			octomath::Vector3 (28.5, 1.66, 12),  
		}; 
		std::list <octomath::Vector3> start_points_result, end_points_result; 
		getCorridorOccupancy_reboot(octree, start, end, geofence, marker_pub, false, start_points_result, end_points_result, false, true);
		ASSERT_TRUE (allPointsAreCorrect(start_points_result, start_points_correct));
		ASSERT_TRUE (allPointsAreCorrect(end_points_result, end_points_correct));
	}

	TEST (LazyThetaStarTests, ObstacleAvoidance_Down)
	{
		ros::Publisher marker_pub;
		octomap::OcTree octree ("data/20180808_1026_octree_noPath.bt");
		double safety_margin = 5;
		octomath::Vector3 geofence(safety_margin, safety_margin, safety_margin);
		octomath::Vector3 start (26, -0.84, 8);
		octomath::Vector3 end (26, 2, -12);
		std::list <octomath::Vector3> start_points_correct = { 
			octomath::Vector3 (23.7, -3.11716, 7.67664),  
			octomath::Vector3 (23.7, -2.72113, 7.73288),  
			octomath::Vector3 (23.7, -2.3251, 7.78912),  
			octomath::Vector3 (23.7, -1.92907, 7.84535),  
			octomath::Vector3 (23.7, -1.53305, 7.90159),  
			octomath::Vector3 (23.7, -1.13702, 7.95782),  
			octomath::Vector3 (23.7, -0.740993, 8.01406),  
			octomath::Vector3 (23.7, -0.344966, 8.07029),  
			octomath::Vector3 (23.7, 0.0510612, 8.12653),  
			octomath::Vector3 (23.7, 0.447088, 8.18277),  
			octomath::Vector3 (23.7, 0.843116, 8.239),  
			octomath::Vector3 (23.7, 1.23914, 8.29524),  
			octomath::Vector3 (23.7, 1.63517, 8.35147),  
			octomath::Vector3 (24.1, -3.11716, 7.67664),  
			octomath::Vector3 (24.1, -2.72113, 7.73288),  
			octomath::Vector3 (24.1, -2.3251, 7.78912),  
			octomath::Vector3 (24.1, -1.92907, 7.84535),  
			octomath::Vector3 (24.1, -1.53305, 7.90159),  
			octomath::Vector3 (24.1, -1.13702, 7.95782),  
			octomath::Vector3 (24.1, -0.740993, 8.01406),  
			octomath::Vector3 (24.1, -0.344966, 8.07029),  
			octomath::Vector3 (24.1, 0.0510612, 8.12653),  
			octomath::Vector3 (24.1, 0.447088, 8.18277),  
			octomath::Vector3 (24.1, 0.843116, 8.239),  
			octomath::Vector3 (24.1, 1.23914, 8.29524),  
			octomath::Vector3 (24.1, 1.63517, 8.35147),  
			octomath::Vector3 (24.5, -3.11716, 7.67664),  
			octomath::Vector3 (24.5, -2.72113, 7.73288),  
			octomath::Vector3 (24.5, -2.3251, 7.78912),  
			octomath::Vector3 (24.5, -1.92907, 7.84535),  
			octomath::Vector3 (24.5, -1.53305, 7.90159),  
			octomath::Vector3 (24.5, -1.13702, 7.95782),  
			octomath::Vector3 (24.5, -0.740993, 8.01406),  
			octomath::Vector3 (24.5, -0.344966, 8.07029),  
			octomath::Vector3 (24.5, 0.0510612, 8.12653),  
			octomath::Vector3 (24.5, 0.447088, 8.18277),  
			octomath::Vector3 (24.5, 0.843116, 8.239),  
			octomath::Vector3 (24.5, 1.23914, 8.29524),  
			octomath::Vector3 (24.5, 1.63517, 8.35147),  
			octomath::Vector3 (24.9, -3.11716, 7.67664),  
			octomath::Vector3 (24.9, -2.72113, 7.73288),  
			octomath::Vector3 (24.9, -2.3251, 7.78912),  
			octomath::Vector3 (24.9, -1.92907, 7.84535),  
			octomath::Vector3 (24.9, -1.53305, 7.90159),  
			octomath::Vector3 (24.9, -1.13702, 7.95782),  
			octomath::Vector3 (24.9, -0.740993, 8.01406),  
			octomath::Vector3 (24.9, -0.344966, 8.07029),  
			octomath::Vector3 (24.9, 0.0510612, 8.12653),  
			octomath::Vector3 (24.9, 0.447088, 8.18277),  
			octomath::Vector3 (24.9, 0.843116, 8.239),  
			octomath::Vector3 (24.9, 1.23914, 8.29524),  
			octomath::Vector3 (24.9, 1.63517, 8.35147),  
			octomath::Vector3 (25.3, -3.11716, 7.67664),  
			octomath::Vector3 (25.3, -2.72113, 7.73288),  
			octomath::Vector3 (25.3, -2.3251, 7.78912),  
			octomath::Vector3 (25.3, -1.92907, 7.84535),  
			octomath::Vector3 (25.3, -1.53305, 7.90159),  
			octomath::Vector3 (25.3, -1.13702, 7.95782),  
			octomath::Vector3 (25.3, -0.740993, 8.01406),  
			octomath::Vector3 (25.3, -0.344966, 8.07029),  
			octomath::Vector3 (25.3, 0.0510612, 8.12653),  
			octomath::Vector3 (25.3, 0.447088, 8.18277),  
			octomath::Vector3 (25.3, 0.843116, 8.239),  
			octomath::Vector3 (25.3, 1.23914, 8.29524),  
			octomath::Vector3 (25.3, 1.63517, 8.35147),  
			octomath::Vector3 (25.7, -3.11716, 7.67664),  
			octomath::Vector3 (25.7, -2.72113, 7.73288),  
			octomath::Vector3 (25.7, -2.3251, 7.78912),  
			octomath::Vector3 (25.7, -1.92907, 7.84535),  
			octomath::Vector3 (25.7, -1.53305, 7.90159),  
			octomath::Vector3 (25.7, -1.13702, 7.95782),  
			octomath::Vector3 (25.7, -0.740993, 8.01406),  
			octomath::Vector3 (25.7, -0.344966, 8.07029),  
			octomath::Vector3 (25.7, 0.0510612, 8.12653),  
			octomath::Vector3 (25.7, 0.447088, 8.18277),  
			octomath::Vector3 (25.7, 0.843116, 8.239),  
			octomath::Vector3 (25.7, 1.23914, 8.29524),  
			octomath::Vector3 (25.7, 1.63517, 8.35147),  
			octomath::Vector3 (26.1, -3.11716, 7.67664),  
			octomath::Vector3 (26.1, -2.72113, 7.73288),  
			octomath::Vector3 (26.1, -2.3251, 7.78912),  
			octomath::Vector3 (26.1, -1.92907, 7.84535),  
			octomath::Vector3 (26.1, -1.53305, 7.90159),  
			octomath::Vector3 (26.1, -1.13702, 7.95782),  
			octomath::Vector3 (26.1, -0.740993, 8.01406),  
			octomath::Vector3 (26.1, -0.344966, 8.07029),  
			octomath::Vector3 (26.1, 0.0510612, 8.12653),  
			octomath::Vector3 (26.1, 0.447088, 8.18277),  
			octomath::Vector3 (26.1, 0.843116, 8.239),  
			octomath::Vector3 (26.1, 1.23914, 8.29524),  
			octomath::Vector3 (26.1, 1.63517, 8.35147),  
			octomath::Vector3 (26.5, -3.11716, 7.67664),  
			octomath::Vector3 (26.5, -2.72113, 7.73288),  
			octomath::Vector3 (26.5, -2.3251, 7.78912),  
			octomath::Vector3 (26.5, -1.92907, 7.84535),  
			octomath::Vector3 (26.5, -1.53305, 7.90159),  
			octomath::Vector3 (26.5, -1.13702, 7.95782),  
			octomath::Vector3 (26.5, -0.740993, 8.01406),  
			octomath::Vector3 (26.5, -0.344966, 8.07029),  
			octomath::Vector3 (26.5, 0.0510612, 8.12653),  
			octomath::Vector3 (26.5, 0.447088, 8.18277),  
			octomath::Vector3 (26.5, 0.843116, 8.239),  
			octomath::Vector3 (26.5, 1.23914, 8.29524),  
			octomath::Vector3 (26.5, 1.63517, 8.35147),  
			octomath::Vector3 (26.9, -3.11716, 7.67664),  
			octomath::Vector3 (26.9, -2.72113, 7.73288),  
			octomath::Vector3 (26.9, -2.3251, 7.78912),  
			octomath::Vector3 (26.9, -1.92907, 7.84535),  
			octomath::Vector3 (26.9, -1.53305, 7.90159),  
			octomath::Vector3 (26.9, -1.13702, 7.95782),  
			octomath::Vector3 (26.9, -0.740993, 8.01406),  
			octomath::Vector3 (26.9, -0.344966, 8.07029),  
			octomath::Vector3 (26.9, 0.0510612, 8.12653),  
			octomath::Vector3 (26.9, 0.447088, 8.18277),  
			octomath::Vector3 (26.9, 0.843116, 8.239),  
			octomath::Vector3 (26.9, 1.23914, 8.29524),  
			octomath::Vector3 (26.9, 1.63517, 8.35147),  
			octomath::Vector3 (27.3, -3.11716, 7.67664),  
			octomath::Vector3 (27.3, -2.72113, 7.73288),  
			octomath::Vector3 (27.3, -2.3251, 7.78912),  
			octomath::Vector3 (27.3, -1.92907, 7.84535),  
			octomath::Vector3 (27.3, -1.53305, 7.90159),  
			octomath::Vector3 (27.3, -1.13702, 7.95782),  
			octomath::Vector3 (27.3, -0.740993, 8.01406),  
			octomath::Vector3 (27.3, -0.344966, 8.07029),  
			octomath::Vector3 (27.3, 0.0510612, 8.12653),  
			octomath::Vector3 (27.3, 0.447088, 8.18277),  
			octomath::Vector3 (27.3, 0.843116, 8.239),  
			octomath::Vector3 (27.3, 1.23914, 8.29524),  
			octomath::Vector3 (27.3, 1.63517, 8.35147),  
			octomath::Vector3 (27.7, -3.11716, 7.67664),  
			octomath::Vector3 (27.7, -2.72113, 7.73288),  
			octomath::Vector3 (27.7, -2.3251, 7.78912),  
			octomath::Vector3 (27.7, -1.92907, 7.84535),  
			octomath::Vector3 (27.7, -1.53305, 7.90159),  
			octomath::Vector3 (27.7, -1.13702, 7.95782),  
			octomath::Vector3 (27.7, -0.740993, 8.01406),  
			octomath::Vector3 (27.7, -0.344966, 8.07029),  
			octomath::Vector3 (27.7, 0.0510612, 8.12653),  
			octomath::Vector3 (27.7, 0.447088, 8.18277),  
			octomath::Vector3 (27.7, 0.843116, 8.239),  
			octomath::Vector3 (27.7, 1.23914, 8.29524),  
			octomath::Vector3 (27.7, 1.63517, 8.35147),  
			octomath::Vector3 (28.1, -3.11716, 7.67664),  
			octomath::Vector3 (28.1, -2.72113, 7.73288),  
			octomath::Vector3 (28.1, -2.3251, 7.78912),  
			octomath::Vector3 (28.1, -1.92907, 7.84535),  
			octomath::Vector3 (28.1, -1.53305, 7.90159),  
			octomath::Vector3 (28.1, -1.13702, 7.95782),  
			octomath::Vector3 (28.1, -0.740993, 8.01406),  
			octomath::Vector3 (28.1, -0.344966, 8.07029),  
			octomath::Vector3 (28.1, 0.0510612, 8.12653),  
			octomath::Vector3 (28.1, 0.447088, 8.18277),  
			octomath::Vector3 (28.1, 0.843116, 8.239),  
			octomath::Vector3 (28.1, 1.23914, 8.29524),  
			octomath::Vector3 (28.1, 1.63517, 8.35147),  
			octomath::Vector3 (28.5, -3.11716, 7.67664),  
			octomath::Vector3 (28.5, -2.72113, 7.73288),  
			octomath::Vector3 (28.5, -2.3251, 7.78912),  
			octomath::Vector3 (28.5, -1.92907, 7.84535),  
			octomath::Vector3 (28.5, -1.53305, 7.90159),  
			octomath::Vector3 (28.5, -1.13702, 7.95782),  
			octomath::Vector3 (28.5, -0.740993, 8.01406),  
			octomath::Vector3 (28.5, -0.344966, 8.07029),  
			octomath::Vector3 (28.5, 0.0510612, 8.12653),  
			octomath::Vector3 (28.5, 0.447088, 8.18277),  
			octomath::Vector3 (28.5, 0.843116, 8.239),  
			octomath::Vector3 (28.5, 1.23914, 8.29524),  
			octomath::Vector3 (28.5, 1.63517, 8.35147),  
		}; 
		std::list <octomath::Vector3> end_points_correct = { 
			octomath::Vector3 (23.7, -0.277156, -12.3234),  
			octomath::Vector3 (23.7, 0.118871, -12.2671),  
			octomath::Vector3 (23.7, 0.514898, -12.2109),  
			octomath::Vector3 (23.7, 0.910925, -12.1546),  
			octomath::Vector3 (23.7, 1.30695, -12.0984),  
			octomath::Vector3 (23.7, 1.70298, -12.0422),  
			octomath::Vector3 (23.7, 2.09901, -11.9859),  
			octomath::Vector3 (23.7, 2.49503, -11.9297),  
			octomath::Vector3 (23.7, 2.89106, -11.8735),  
			octomath::Vector3 (23.7, 3.28709, -11.8172),  
			octomath::Vector3 (23.7, 3.68312, -11.761),  
			octomath::Vector3 (23.7, 4.07914, -11.7048),  
			octomath::Vector3 (23.7, 4.47517, -11.6485),  
			octomath::Vector3 (24.1, -0.277156, -12.3234),  
			octomath::Vector3 (24.1, 0.118871, -12.2671),  
			octomath::Vector3 (24.1, 0.514898, -12.2109),  
			octomath::Vector3 (24.1, 0.910925, -12.1546),  
			octomath::Vector3 (24.1, 1.30695, -12.0984),  
			octomath::Vector3 (24.1, 1.70298, -12.0422),  
			octomath::Vector3 (24.1, 2.09901, -11.9859),  
			octomath::Vector3 (24.1, 2.49503, -11.9297),  
			octomath::Vector3 (24.1, 2.89106, -11.8735),  
			octomath::Vector3 (24.1, 3.28709, -11.8172),  
			octomath::Vector3 (24.1, 3.68312, -11.761),  
			octomath::Vector3 (24.1, 4.07914, -11.7048),  
			octomath::Vector3 (24.1, 4.47517, -11.6485),  
			octomath::Vector3 (24.5, -0.277156, -12.3234),  
			octomath::Vector3 (24.5, 0.118871, -12.2671),  
			octomath::Vector3 (24.5, 0.514898, -12.2109),  
			octomath::Vector3 (24.5, 0.910925, -12.1546),  
			octomath::Vector3 (24.5, 1.30695, -12.0984),  
			octomath::Vector3 (24.5, 1.70298, -12.0422),  
			octomath::Vector3 (24.5, 2.09901, -11.9859),  
			octomath::Vector3 (24.5, 2.49503, -11.9297),  
			octomath::Vector3 (24.5, 2.89106, -11.8735),  
			octomath::Vector3 (24.5, 3.28709, -11.8172),  
			octomath::Vector3 (24.5, 3.68312, -11.761),  
			octomath::Vector3 (24.5, 4.07914, -11.7048),  
			octomath::Vector3 (24.5, 4.47517, -11.6485),  
			octomath::Vector3 (24.9, -0.277156, -12.3234),  
			octomath::Vector3 (24.9, 0.118871, -12.2671),  
			octomath::Vector3 (24.9, 0.514898, -12.2109),  
			octomath::Vector3 (24.9, 0.910925, -12.1546),  
			octomath::Vector3 (24.9, 1.30695, -12.0984),  
			octomath::Vector3 (24.9, 1.70298, -12.0422),  
			octomath::Vector3 (24.9, 2.09901, -11.9859),  
			octomath::Vector3 (24.9, 2.49503, -11.9297),  
			octomath::Vector3 (24.9, 2.89106, -11.8735),  
			octomath::Vector3 (24.9, 3.28709, -11.8172),  
			octomath::Vector3 (24.9, 3.68312, -11.761),  
			octomath::Vector3 (24.9, 4.07914, -11.7048),  
			octomath::Vector3 (24.9, 4.47517, -11.6485),  
			octomath::Vector3 (25.3, -0.277156, -12.3234),  
			octomath::Vector3 (25.3, 0.118871, -12.2671),  
			octomath::Vector3 (25.3, 0.514898, -12.2109),  
			octomath::Vector3 (25.3, 0.910925, -12.1546),  
			octomath::Vector3 (25.3, 1.30695, -12.0984),  
			octomath::Vector3 (25.3, 1.70298, -12.0422),  
			octomath::Vector3 (25.3, 2.09901, -11.9859),  
			octomath::Vector3 (25.3, 2.49503, -11.9297),  
			octomath::Vector3 (25.3, 2.89106, -11.8735),  
			octomath::Vector3 (25.3, 3.28709, -11.8172),  
			octomath::Vector3 (25.3, 3.68312, -11.761),  
			octomath::Vector3 (25.3, 4.07914, -11.7048),  
			octomath::Vector3 (25.3, 4.47517, -11.6485),  
			octomath::Vector3 (25.7, -0.277156, -12.3234),  
			octomath::Vector3 (25.7, 0.118871, -12.2671),  
			octomath::Vector3 (25.7, 0.514898, -12.2109),  
			octomath::Vector3 (25.7, 0.910925, -12.1546),  
			octomath::Vector3 (25.7, 1.30695, -12.0984),  
			octomath::Vector3 (25.7, 1.70298, -12.0422),  
			octomath::Vector3 (25.7, 2.09901, -11.9859),  
			octomath::Vector3 (25.7, 2.49503, -11.9297),  
			octomath::Vector3 (25.7, 2.89106, -11.8735),  
			octomath::Vector3 (25.7, 3.28709, -11.8172),  
			octomath::Vector3 (25.7, 3.68312, -11.761),  
			octomath::Vector3 (25.7, 4.07914, -11.7048),  
			octomath::Vector3 (25.7, 4.47517, -11.6485),  
			octomath::Vector3 (26.1, -0.277156, -12.3234),  
			octomath::Vector3 (26.1, 0.118871, -12.2671),  
			octomath::Vector3 (26.1, 0.514898, -12.2109),  
			octomath::Vector3 (26.1, 0.910925, -12.1546),  
			octomath::Vector3 (26.1, 1.30695, -12.0984),  
			octomath::Vector3 (26.1, 1.70298, -12.0422),  
			octomath::Vector3 (26.1, 2.09901, -11.9859),  
			octomath::Vector3 (26.1, 2.49503, -11.9297),  
			octomath::Vector3 (26.1, 2.89106, -11.8735),  
			octomath::Vector3 (26.1, 3.28709, -11.8172),  
			octomath::Vector3 (26.1, 3.68312, -11.761),  
			octomath::Vector3 (26.1, 4.07914, -11.7048),  
			octomath::Vector3 (26.1, 4.47517, -11.6485),  
			octomath::Vector3 (26.5, -0.277156, -12.3234),  
			octomath::Vector3 (26.5, 0.118871, -12.2671),  
			octomath::Vector3 (26.5, 0.514898, -12.2109),  
			octomath::Vector3 (26.5, 0.910925, -12.1546),  
			octomath::Vector3 (26.5, 1.30695, -12.0984),  
			octomath::Vector3 (26.5, 1.70298, -12.0422),  
			octomath::Vector3 (26.5, 2.09901, -11.9859),  
			octomath::Vector3 (26.5, 2.49503, -11.9297),  
			octomath::Vector3 (26.5, 2.89106, -11.8735),  
			octomath::Vector3 (26.5, 3.28709, -11.8172),  
			octomath::Vector3 (26.5, 3.68312, -11.761),  
			octomath::Vector3 (26.5, 4.07914, -11.7048),  
			octomath::Vector3 (26.5, 4.47517, -11.6485),  
			octomath::Vector3 (26.9, -0.277156, -12.3234),  
			octomath::Vector3 (26.9, 0.118871, -12.2671),  
			octomath::Vector3 (26.9, 0.514898, -12.2109),  
			octomath::Vector3 (26.9, 0.910925, -12.1546),  
			octomath::Vector3 (26.9, 1.30695, -12.0984),  
			octomath::Vector3 (26.9, 1.70298, -12.0422),  
			octomath::Vector3 (26.9, 2.09901, -11.9859),  
			octomath::Vector3 (26.9, 2.49503, -11.9297),  
			octomath::Vector3 (26.9, 2.89106, -11.8735),  
			octomath::Vector3 (26.9, 3.28709, -11.8172),  
			octomath::Vector3 (26.9, 3.68312, -11.761),  
			octomath::Vector3 (26.9, 4.07914, -11.7048),  
			octomath::Vector3 (26.9, 4.47517, -11.6485),  
			octomath::Vector3 (27.3, -0.277156, -12.3234),  
			octomath::Vector3 (27.3, 0.118871, -12.2671),  
			octomath::Vector3 (27.3, 0.514898, -12.2109),  
			octomath::Vector3 (27.3, 0.910925, -12.1546),  
			octomath::Vector3 (27.3, 1.30695, -12.0984),  
			octomath::Vector3 (27.3, 1.70298, -12.0422),  
			octomath::Vector3 (27.3, 2.09901, -11.9859),  
			octomath::Vector3 (27.3, 2.49503, -11.9297),  
			octomath::Vector3 (27.3, 2.89106, -11.8735),  
			octomath::Vector3 (27.3, 3.28709, -11.8172),  
			octomath::Vector3 (27.3, 3.68312, -11.761),  
			octomath::Vector3 (27.3, 4.07914, -11.7048),  
			octomath::Vector3 (27.3, 4.47517, -11.6485),  
			octomath::Vector3 (27.7, -0.277156, -12.3234),  
			octomath::Vector3 (27.7, 0.118871, -12.2671),  
			octomath::Vector3 (27.7, 0.514898, -12.2109),  
			octomath::Vector3 (27.7, 0.910925, -12.1546),  
			octomath::Vector3 (27.7, 1.30695, -12.0984),  
			octomath::Vector3 (27.7, 1.70298, -12.0422),  
			octomath::Vector3 (27.7, 2.09901, -11.9859),  
			octomath::Vector3 (27.7, 2.49503, -11.9297),  
			octomath::Vector3 (27.7, 2.89106, -11.8735),  
			octomath::Vector3 (27.7, 3.28709, -11.8172),  
			octomath::Vector3 (27.7, 3.68312, -11.761),  
			octomath::Vector3 (27.7, 4.07914, -11.7048),  
			octomath::Vector3 (27.7, 4.47517, -11.6485),  
			octomath::Vector3 (28.1, -0.277156, -12.3234),  
			octomath::Vector3 (28.1, 0.118871, -12.2671),  
			octomath::Vector3 (28.1, 0.514898, -12.2109),  
			octomath::Vector3 (28.1, 0.910925, -12.1546),  
			octomath::Vector3 (28.1, 1.30695, -12.0984),  
			octomath::Vector3 (28.1, 1.70298, -12.0422),  
			octomath::Vector3 (28.1, 2.09901, -11.9859),  
			octomath::Vector3 (28.1, 2.49503, -11.9297),  
			octomath::Vector3 (28.1, 2.89106, -11.8735),  
			octomath::Vector3 (28.1, 3.28709, -11.8172),  
			octomath::Vector3 (28.1, 3.68312, -11.761),  
			octomath::Vector3 (28.1, 4.07914, -11.7048),  
			octomath::Vector3 (28.1, 4.47517, -11.6485),  
			octomath::Vector3 (28.5, -0.277156, -12.3234),  
			octomath::Vector3 (28.5, 0.118871, -12.2671),  
			octomath::Vector3 (28.5, 0.514898, -12.2109),  
			octomath::Vector3 (28.5, 0.910925, -12.1546),  
			octomath::Vector3 (28.5, 1.30695, -12.0984),  
			octomath::Vector3 (28.5, 1.70298, -12.0422),  
			octomath::Vector3 (28.5, 2.09901, -11.9859),  
			octomath::Vector3 (28.5, 2.49503, -11.9297),  
			octomath::Vector3 (28.5, 2.89106, -11.8735),  
			octomath::Vector3 (28.5, 3.28709, -11.8172),  
			octomath::Vector3 (28.5, 3.68312, -11.761),  
			octomath::Vector3 (28.5, 4.07914, -11.7048),  
			octomath::Vector3 (28.5, 4.47517, -11.6485),  
		}; 

		std::list <octomath::Vector3> start_points_result, end_points_result; 
		getCorridorOccupancy_reboot(octree, start, end, geofence, marker_pub, false, start_points_result, end_points_result, false, true);
		ASSERT_TRUE (allPointsAreCorrect(start_points_result, start_points_correct));
		ASSERT_TRUE (allPointsAreCorrect(end_points_result, end_points_correct));
	}

	TEST (LazyThetaStarTests, ObstacleAvoidance_ForwardsInY)
	{
		ros::Publisher marker_pub;
		octomap::OcTree octree ("data/20180808_1026_octree_noPath.bt");
		double safety_margin = 5;
		octomath::Vector3 geofence(safety_margin, safety_margin, safety_margin);
		octomath::Vector3 start (26, -0.84, 8);
		octomath::Vector3 end (26, 2, 8);
		std::list <octomath::Vector3> start_points_correct = { 
			octomath::Vector3 (23.7, -0.84, 5.7),  
			octomath::Vector3 (23.7, -0.84, 6.1),  
			octomath::Vector3 (23.7, -0.84, 6.5),  
			octomath::Vector3 (23.7, -0.84, 6.9),  
			octomath::Vector3 (23.7, -0.84, 7.3),  
			octomath::Vector3 (23.7, -0.84, 7.7),  
			octomath::Vector3 (23.7, -0.84, 8.1),  
			octomath::Vector3 (23.7, -0.84, 8.5),  
			octomath::Vector3 (23.7, -0.84, 8.9),  
			octomath::Vector3 (23.7, -0.84, 9.3),  
			octomath::Vector3 (23.7, -0.84, 9.7),  
			octomath::Vector3 (23.7, -0.84, 10.1),  
			octomath::Vector3 (23.7, -0.84, 10.5),  
			octomath::Vector3 (24.1, -0.84, 5.7),  
			octomath::Vector3 (24.1, -0.84, 6.1),  
			octomath::Vector3 (24.1, -0.84, 6.5),  
			octomath::Vector3 (24.1, -0.84, 6.9),  
			octomath::Vector3 (24.1, -0.84, 7.3),  
			octomath::Vector3 (24.1, -0.84, 7.7),  
			octomath::Vector3 (24.1, -0.84, 8.1),  
			octomath::Vector3 (24.1, -0.84, 8.5),  
			octomath::Vector3 (24.1, -0.84, 8.9),  
			octomath::Vector3 (24.1, -0.84, 9.3),  
			octomath::Vector3 (24.1, -0.84, 9.7),  
			octomath::Vector3 (24.1, -0.84, 10.1),  
			octomath::Vector3 (24.1, -0.84, 10.5),  
			octomath::Vector3 (24.5, -0.84, 5.7),  
			octomath::Vector3 (24.5, -0.84, 6.1),  
			octomath::Vector3 (24.5, -0.84, 6.5),  
			octomath::Vector3 (24.5, -0.84, 6.9),  
			octomath::Vector3 (24.5, -0.84, 7.3),  
			octomath::Vector3 (24.5, -0.84, 7.7),  
			octomath::Vector3 (24.5, -0.84, 8.1),  
			octomath::Vector3 (24.5, -0.84, 8.5),  
			octomath::Vector3 (24.5, -0.84, 8.9),  
			octomath::Vector3 (24.5, -0.84, 9.3),  
			octomath::Vector3 (24.5, -0.84, 9.7),  
			octomath::Vector3 (24.5, -0.84, 10.1),  
			octomath::Vector3 (24.5, -0.84, 10.5),  
			octomath::Vector3 (24.9, -0.84, 5.7),  
			octomath::Vector3 (24.9, -0.84, 6.1),  
			octomath::Vector3 (24.9, -0.84, 6.5),  
			octomath::Vector3 (24.9, -0.84, 6.9),  
			octomath::Vector3 (24.9, -0.84, 7.3),  
			octomath::Vector3 (24.9, -0.84, 7.7),  
			octomath::Vector3 (24.9, -0.84, 8.1),  
			octomath::Vector3 (24.9, -0.84, 8.5),  
			octomath::Vector3 (24.9, -0.84, 8.9),  
			octomath::Vector3 (24.9, -0.84, 9.3),  
			octomath::Vector3 (24.9, -0.84, 9.7),  
			octomath::Vector3 (24.9, -0.84, 10.1),  
			octomath::Vector3 (24.9, -0.84, 10.5),  
			octomath::Vector3 (25.3, -0.84, 5.7),  
			octomath::Vector3 (25.3, -0.84, 6.1),  
			octomath::Vector3 (25.3, -0.84, 6.5),  
			octomath::Vector3 (25.3, -0.84, 6.9),  
			octomath::Vector3 (25.3, -0.84, 7.3),  
			octomath::Vector3 (25.3, -0.84, 7.7),  
			octomath::Vector3 (25.3, -0.84, 8.1),  
			octomath::Vector3 (25.3, -0.84, 8.5),  
			octomath::Vector3 (25.3, -0.84, 8.9),  
			octomath::Vector3 (25.3, -0.84, 9.3),  
			octomath::Vector3 (25.3, -0.84, 9.7),  
			octomath::Vector3 (25.3, -0.84, 10.1),  
			octomath::Vector3 (25.3, -0.84, 10.5),  
			octomath::Vector3 (25.7, -0.84, 5.7),  
			octomath::Vector3 (25.7, -0.84, 6.1),  
			octomath::Vector3 (25.7, -0.84, 6.5),  
			octomath::Vector3 (25.7, -0.84, 6.9),  
			octomath::Vector3 (25.7, -0.84, 7.3),  
			octomath::Vector3 (25.7, -0.84, 7.7),  
			octomath::Vector3 (25.7, -0.84, 8.1),  
			octomath::Vector3 (25.7, -0.84, 8.5),  
			octomath::Vector3 (25.7, -0.84, 8.9),  
			octomath::Vector3 (25.7, -0.84, 9.3),  
			octomath::Vector3 (25.7, -0.84, 9.7),  
			octomath::Vector3 (25.7, -0.84, 10.1),  
			octomath::Vector3 (25.7, -0.84, 10.5),  
			octomath::Vector3 (26.1, -0.84, 5.7),  
			octomath::Vector3 (26.1, -0.84, 6.1),  
			octomath::Vector3 (26.1, -0.84, 6.5),  
			octomath::Vector3 (26.1, -0.84, 6.9),  
			octomath::Vector3 (26.1, -0.84, 7.3),  
			octomath::Vector3 (26.1, -0.84, 7.7),  
			octomath::Vector3 (26.1, -0.84, 8.1),  
			octomath::Vector3 (26.1, -0.84, 8.5),  
			octomath::Vector3 (26.1, -0.84, 8.9),  
			octomath::Vector3 (26.1, -0.84, 9.3),  
			octomath::Vector3 (26.1, -0.84, 9.7),  
			octomath::Vector3 (26.1, -0.84, 10.1),  
			octomath::Vector3 (26.1, -0.84, 10.5),  
			octomath::Vector3 (26.5, -0.84, 5.7),  
			octomath::Vector3 (26.5, -0.84, 6.1),  
			octomath::Vector3 (26.5, -0.84, 6.5),  
			octomath::Vector3 (26.5, -0.84, 6.9),  
			octomath::Vector3 (26.5, -0.84, 7.3),  
			octomath::Vector3 (26.5, -0.84, 7.7),  
			octomath::Vector3 (26.5, -0.84, 8.1),  
			octomath::Vector3 (26.5, -0.84, 8.5),  
			octomath::Vector3 (26.5, -0.84, 8.9),  
			octomath::Vector3 (26.5, -0.84, 9.3),  
			octomath::Vector3 (26.5, -0.84, 9.7),  
			octomath::Vector3 (26.5, -0.84, 10.1),  
			octomath::Vector3 (26.5, -0.84, 10.5),  
			octomath::Vector3 (26.9, -0.84, 5.7),  
			octomath::Vector3 (26.9, -0.84, 6.1),  
			octomath::Vector3 (26.9, -0.84, 6.5),  
			octomath::Vector3 (26.9, -0.84, 6.9),  
			octomath::Vector3 (26.9, -0.84, 7.3),  
			octomath::Vector3 (26.9, -0.84, 7.7),  
			octomath::Vector3 (26.9, -0.84, 8.1),  
			octomath::Vector3 (26.9, -0.84, 8.5),  
			octomath::Vector3 (26.9, -0.84, 8.9),  
			octomath::Vector3 (26.9, -0.84, 9.3),  
			octomath::Vector3 (26.9, -0.84, 9.7),  
			octomath::Vector3 (26.9, -0.84, 10.1),  
			octomath::Vector3 (26.9, -0.84, 10.5),  
			octomath::Vector3 (27.3, -0.84, 5.7),  
			octomath::Vector3 (27.3, -0.84, 6.1),  
			octomath::Vector3 (27.3, -0.84, 6.5),  
			octomath::Vector3 (27.3, -0.84, 6.9),  
			octomath::Vector3 (27.3, -0.84, 7.3),  
			octomath::Vector3 (27.3, -0.84, 7.7),  
			octomath::Vector3 (27.3, -0.84, 8.1),  
			octomath::Vector3 (27.3, -0.84, 8.5),  
			octomath::Vector3 (27.3, -0.84, 8.9),  
			octomath::Vector3 (27.3, -0.84, 9.3),  
			octomath::Vector3 (27.3, -0.84, 9.7),  
			octomath::Vector3 (27.3, -0.84, 10.1),  
			octomath::Vector3 (27.3, -0.84, 10.5),  
			octomath::Vector3 (27.7, -0.84, 5.7),  
			octomath::Vector3 (27.7, -0.84, 6.1),  
			octomath::Vector3 (27.7, -0.84, 6.5),  
			octomath::Vector3 (27.7, -0.84, 6.9),  
			octomath::Vector3 (27.7, -0.84, 7.3),  
			octomath::Vector3 (27.7, -0.84, 7.7),  
			octomath::Vector3 (27.7, -0.84, 8.1),  
			octomath::Vector3 (27.7, -0.84, 8.5),  
			octomath::Vector3 (27.7, -0.84, 8.9),  
			octomath::Vector3 (27.7, -0.84, 9.3),  
			octomath::Vector3 (27.7, -0.84, 9.7),  
			octomath::Vector3 (27.7, -0.84, 10.1),  
			octomath::Vector3 (27.7, -0.84, 10.5),  
			octomath::Vector3 (28.1, -0.84, 5.7),  
			octomath::Vector3 (28.1, -0.84, 6.1),  
			octomath::Vector3 (28.1, -0.84, 6.5),  
			octomath::Vector3 (28.1, -0.84, 6.9),  
			octomath::Vector3 (28.1, -0.84, 7.3),  
			octomath::Vector3 (28.1, -0.84, 7.7),  
			octomath::Vector3 (28.1, -0.84, 8.1),  
			octomath::Vector3 (28.1, -0.84, 8.5),  
			octomath::Vector3 (28.1, -0.84, 8.9),  
			octomath::Vector3 (28.1, -0.84, 9.3),  
			octomath::Vector3 (28.1, -0.84, 9.7),  
			octomath::Vector3 (28.1, -0.84, 10.1),  
			octomath::Vector3 (28.1, -0.84, 10.5),  
			octomath::Vector3 (28.5, -0.84, 5.7),  
			octomath::Vector3 (28.5, -0.84, 6.1),  
			octomath::Vector3 (28.5, -0.84, 6.5),  
			octomath::Vector3 (28.5, -0.84, 6.9),  
			octomath::Vector3 (28.5, -0.84, 7.3),  
			octomath::Vector3 (28.5, -0.84, 7.7),  
			octomath::Vector3 (28.5, -0.84, 8.1),  
			octomath::Vector3 (28.5, -0.84, 8.5),  
			octomath::Vector3 (28.5, -0.84, 8.9),  
			octomath::Vector3 (28.5, -0.84, 9.3),  
			octomath::Vector3 (28.5, -0.84, 9.7),  
			octomath::Vector3 (28.5, -0.84, 10.1),  
			octomath::Vector3 (28.5, -0.84, 10.5),  
		}; 
		std::list <octomath::Vector3> end_points_correct = { 
			octomath::Vector3 (23.7, 2, 5.7),  
			octomath::Vector3 (23.7, 2, 6.1),  
			octomath::Vector3 (23.7, 2, 6.5),  
			octomath::Vector3 (23.7, 2, 6.9),  
			octomath::Vector3 (23.7, 2, 7.3),  
			octomath::Vector3 (23.7, 2, 7.7),  
			octomath::Vector3 (23.7, 2, 8.1),  
			octomath::Vector3 (23.7, 2, 8.5),  
			octomath::Vector3 (23.7, 2, 8.9),  
			octomath::Vector3 (23.7, 2, 9.3),  
			octomath::Vector3 (23.7, 2, 9.7),  
			octomath::Vector3 (23.7, 2, 10.1),  
			octomath::Vector3 (23.7, 2, 10.5),  
			octomath::Vector3 (24.1, 2, 5.7),  
			octomath::Vector3 (24.1, 2, 6.1),  
			octomath::Vector3 (24.1, 2, 6.5),  
			octomath::Vector3 (24.1, 2, 6.9),  
			octomath::Vector3 (24.1, 2, 7.3),  
			octomath::Vector3 (24.1, 2, 7.7),  
			octomath::Vector3 (24.1, 2, 8.1),  
			octomath::Vector3 (24.1, 2, 8.5),  
			octomath::Vector3 (24.1, 2, 8.9),  
			octomath::Vector3 (24.1, 2, 9.3),  
			octomath::Vector3 (24.1, 2, 9.7),  
			octomath::Vector3 (24.1, 2, 10.1),  
			octomath::Vector3 (24.1, 2, 10.5),  
			octomath::Vector3 (24.5, 2, 5.7),  
			octomath::Vector3 (24.5, 2, 6.1),  
			octomath::Vector3 (24.5, 2, 6.5),  
			octomath::Vector3 (24.5, 2, 6.9),  
			octomath::Vector3 (24.5, 2, 7.3),  
			octomath::Vector3 (24.5, 2, 7.7),  
			octomath::Vector3 (24.5, 2, 8.1),  
			octomath::Vector3 (24.5, 2, 8.5),  
			octomath::Vector3 (24.5, 2, 8.9),  
			octomath::Vector3 (24.5, 2, 9.3),  
			octomath::Vector3 (24.5, 2, 9.7),  
			octomath::Vector3 (24.5, 2, 10.1),  
			octomath::Vector3 (24.5, 2, 10.5),  
			octomath::Vector3 (24.9, 2, 5.7),  
			octomath::Vector3 (24.9, 2, 6.1),  
			octomath::Vector3 (24.9, 2, 6.5),  
			octomath::Vector3 (24.9, 2, 6.9),  
			octomath::Vector3 (24.9, 2, 7.3),  
			octomath::Vector3 (24.9, 2, 7.7),  
			octomath::Vector3 (24.9, 2, 8.1),  
			octomath::Vector3 (24.9, 2, 8.5),  
			octomath::Vector3 (24.9, 2, 8.9),  
			octomath::Vector3 (24.9, 2, 9.3),  
			octomath::Vector3 (24.9, 2, 9.7),  
			octomath::Vector3 (24.9, 2, 10.1),  
			octomath::Vector3 (24.9, 2, 10.5),  
			octomath::Vector3 (25.3, 2, 5.7),  
			octomath::Vector3 (25.3, 2, 6.1),  
			octomath::Vector3 (25.3, 2, 6.5),  
			octomath::Vector3 (25.3, 2, 6.9),  
			octomath::Vector3 (25.3, 2, 7.3),  
			octomath::Vector3 (25.3, 2, 7.7),  
			octomath::Vector3 (25.3, 2, 8.1),  
			octomath::Vector3 (25.3, 2, 8.5),  
			octomath::Vector3 (25.3, 2, 8.9),  
			octomath::Vector3 (25.3, 2, 9.3),  
			octomath::Vector3 (25.3, 2, 9.7),  
			octomath::Vector3 (25.3, 2, 10.1),  
			octomath::Vector3 (25.3, 2, 10.5),  
			octomath::Vector3 (25.7, 2, 5.7),  
			octomath::Vector3 (25.7, 2, 6.1),  
			octomath::Vector3 (25.7, 2, 6.5),  
			octomath::Vector3 (25.7, 2, 6.9),  
			octomath::Vector3 (25.7, 2, 7.3),  
			octomath::Vector3 (25.7, 2, 7.7),  
			octomath::Vector3 (25.7, 2, 8.1),  
			octomath::Vector3 (25.7, 2, 8.5),  
			octomath::Vector3 (25.7, 2, 8.9),  
			octomath::Vector3 (25.7, 2, 9.3),  
			octomath::Vector3 (25.7, 2, 9.7),  
			octomath::Vector3 (25.7, 2, 10.1),  
			octomath::Vector3 (25.7, 2, 10.5),  
			octomath::Vector3 (26.1, 2, 5.7),  
			octomath::Vector3 (26.1, 2, 6.1),  
			octomath::Vector3 (26.1, 2, 6.5),  
			octomath::Vector3 (26.1, 2, 6.9),  
			octomath::Vector3 (26.1, 2, 7.3),  
			octomath::Vector3 (26.1, 2, 7.7),  
			octomath::Vector3 (26.1, 2, 8.1),  
			octomath::Vector3 (26.1, 2, 8.5),  
			octomath::Vector3 (26.1, 2, 8.9),  
			octomath::Vector3 (26.1, 2, 9.3),  
			octomath::Vector3 (26.1, 2, 9.7),  
			octomath::Vector3 (26.1, 2, 10.1),  
			octomath::Vector3 (26.1, 2, 10.5),  
			octomath::Vector3 (26.5, 2, 5.7),  
			octomath::Vector3 (26.5, 2, 6.1),  
			octomath::Vector3 (26.5, 2, 6.5),  
			octomath::Vector3 (26.5, 2, 6.9),  
			octomath::Vector3 (26.5, 2, 7.3),  
			octomath::Vector3 (26.5, 2, 7.7),  
			octomath::Vector3 (26.5, 2, 8.1),  
			octomath::Vector3 (26.5, 2, 8.5),  
			octomath::Vector3 (26.5, 2, 8.9),  
			octomath::Vector3 (26.5, 2, 9.3),  
			octomath::Vector3 (26.5, 2, 9.7),  
			octomath::Vector3 (26.5, 2, 10.1),  
			octomath::Vector3 (26.5, 2, 10.5),  
			octomath::Vector3 (26.9, 2, 5.7),  
			octomath::Vector3 (26.9, 2, 6.1),  
			octomath::Vector3 (26.9, 2, 6.5),  
			octomath::Vector3 (26.9, 2, 6.9),  
			octomath::Vector3 (26.9, 2, 7.3),  
			octomath::Vector3 (26.9, 2, 7.7),  
			octomath::Vector3 (26.9, 2, 8.1),  
			octomath::Vector3 (26.9, 2, 8.5),  
			octomath::Vector3 (26.9, 2, 8.9),  
			octomath::Vector3 (26.9, 2, 9.3),  
			octomath::Vector3 (26.9, 2, 9.7),  
			octomath::Vector3 (26.9, 2, 10.1),  
			octomath::Vector3 (26.9, 2, 10.5),  
			octomath::Vector3 (27.3, 2, 5.7),  
			octomath::Vector3 (27.3, 2, 6.1),  
			octomath::Vector3 (27.3, 2, 6.5),  
			octomath::Vector3 (27.3, 2, 6.9),  
			octomath::Vector3 (27.3, 2, 7.3),  
			octomath::Vector3 (27.3, 2, 7.7),  
			octomath::Vector3 (27.3, 2, 8.1),  
			octomath::Vector3 (27.3, 2, 8.5),  
			octomath::Vector3 (27.3, 2, 8.9),  
			octomath::Vector3 (27.3, 2, 9.3),  
			octomath::Vector3 (27.3, 2, 9.7),  
			octomath::Vector3 (27.3, 2, 10.1),  
			octomath::Vector3 (27.3, 2, 10.5),  
			octomath::Vector3 (27.7, 2, 5.7),  
			octomath::Vector3 (27.7, 2, 6.1),  
			octomath::Vector3 (27.7, 2, 6.5),  
			octomath::Vector3 (27.7, 2, 6.9),  
			octomath::Vector3 (27.7, 2, 7.3),  
			octomath::Vector3 (27.7, 2, 7.7),  
			octomath::Vector3 (27.7, 2, 8.1),  
			octomath::Vector3 (27.7, 2, 8.5),  
			octomath::Vector3 (27.7, 2, 8.9),  
			octomath::Vector3 (27.7, 2, 9.3),  
			octomath::Vector3 (27.7, 2, 9.7),  
			octomath::Vector3 (27.7, 2, 10.1),  
			octomath::Vector3 (27.7, 2, 10.5),  
			octomath::Vector3 (28.1, 2, 5.7),  
			octomath::Vector3 (28.1, 2, 6.1),  
			octomath::Vector3 (28.1, 2, 6.5),  
			octomath::Vector3 (28.1, 2, 6.9),  
			octomath::Vector3 (28.1, 2, 7.3),  
			octomath::Vector3 (28.1, 2, 7.7),  
			octomath::Vector3 (28.1, 2, 8.1),  
			octomath::Vector3 (28.1, 2, 8.5),  
			octomath::Vector3 (28.1, 2, 8.9),  
			octomath::Vector3 (28.1, 2, 9.3),  
			octomath::Vector3 (28.1, 2, 9.7),  
			octomath::Vector3 (28.1, 2, 10.1),  
			octomath::Vector3 (28.1, 2, 10.5),  
			octomath::Vector3 (28.5, 2, 5.7),  
			octomath::Vector3 (28.5, 2, 6.1),  
			octomath::Vector3 (28.5, 2, 6.5),  
			octomath::Vector3 (28.5, 2, 6.9),  
			octomath::Vector3 (28.5, 2, 7.3),  
			octomath::Vector3 (28.5, 2, 7.7),  
			octomath::Vector3 (28.5, 2, 8.1),  
			octomath::Vector3 (28.5, 2, 8.5),  
			octomath::Vector3 (28.5, 2, 8.9),  
			octomath::Vector3 (28.5, 2, 9.3),  
			octomath::Vector3 (28.5, 2, 9.7),  
			octomath::Vector3 (28.5, 2, 10.1),  
			octomath::Vector3 (28.5, 2, 10.5),  
		}; 

		std::list <octomath::Vector3> start_points_result, end_points_result; 
		getCorridorOccupancy_reboot(octree, start, end, geofence, marker_pub, false, start_points_result, end_points_result, false, true);
		ASSERT_TRUE (allPointsAreCorrect(start_points_result, start_points_correct));
		ASSERT_TRUE (allPointsAreCorrect(end_points_result, end_points_correct));
	}

	TEST (LazyThetaStarTests, ObstacleAvoidance_BackwardsInY)
	{
		ros::Publisher marker_pub;
		octomap::OcTree octree ("data/20180808_1026_octree_noPath.bt");
		double safety_margin = 5;
		octomath::Vector3 geofence(safety_margin, safety_margin, safety_margin);
		octomath::Vector3 start (26, -0.84, 8);
		octomath::Vector3 end (26, -2, 8);
		std::list <octomath::Vector3> start_points_correct = { 
			octomath::Vector3 (23.7, -0.84, 10.3),  
			octomath::Vector3 (23.7, -0.84, 9.9),  
			octomath::Vector3 (23.7, -0.84, 9.5),  
			octomath::Vector3 (23.7, -0.84, 9.1),  
			octomath::Vector3 (23.7, -0.84, 8.7),  
			octomath::Vector3 (23.7, -0.84, 8.3),  
			octomath::Vector3 (23.7, -0.84, 7.9),  
			octomath::Vector3 (23.7, -0.84, 7.5),  
			octomath::Vector3 (23.7, -0.84, 7.1),  
			octomath::Vector3 (23.7, -0.84, 6.7),  
			octomath::Vector3 (23.7, -0.84, 6.3),  
			octomath::Vector3 (23.7, -0.84, 5.9),  
			octomath::Vector3 (23.7, -0.84, 5.5),  
			octomath::Vector3 (24.1, -0.84, 10.3),  
			octomath::Vector3 (24.1, -0.84, 9.9),  
			octomath::Vector3 (24.1, -0.84, 9.5),  
			octomath::Vector3 (24.1, -0.84, 9.1),  
			octomath::Vector3 (24.1, -0.84, 8.7),  
			octomath::Vector3 (24.1, -0.84, 8.3),  
			octomath::Vector3 (24.1, -0.84, 7.9),  
			octomath::Vector3 (24.1, -0.84, 7.5),  
			octomath::Vector3 (24.1, -0.84, 7.1),  
			octomath::Vector3 (24.1, -0.84, 6.7),  
			octomath::Vector3 (24.1, -0.84, 6.3),  
			octomath::Vector3 (24.1, -0.84, 5.9),  
			octomath::Vector3 (24.1, -0.84, 5.5),  
			octomath::Vector3 (24.5, -0.84, 10.3),  
			octomath::Vector3 (24.5, -0.84, 9.9),  
			octomath::Vector3 (24.5, -0.84, 9.5),  
			octomath::Vector3 (24.5, -0.84, 9.1),  
			octomath::Vector3 (24.5, -0.84, 8.7),  
			octomath::Vector3 (24.5, -0.84, 8.3),  
			octomath::Vector3 (24.5, -0.84, 7.9),  
			octomath::Vector3 (24.5, -0.84, 7.5),  
			octomath::Vector3 (24.5, -0.84, 7.1),  
			octomath::Vector3 (24.5, -0.84, 6.7),  
			octomath::Vector3 (24.5, -0.84, 6.3),  
			octomath::Vector3 (24.5, -0.84, 5.9),  
			octomath::Vector3 (24.5, -0.84, 5.5),  
			octomath::Vector3 (24.9, -0.84, 10.3),  
			octomath::Vector3 (24.9, -0.84, 9.9),  
			octomath::Vector3 (24.9, -0.84, 9.5),  
			octomath::Vector3 (24.9, -0.84, 9.1),  
			octomath::Vector3 (24.9, -0.84, 8.7),  
			octomath::Vector3 (24.9, -0.84, 8.3),  
			octomath::Vector3 (24.9, -0.84, 7.9),  
			octomath::Vector3 (24.9, -0.84, 7.5),  
			octomath::Vector3 (24.9, -0.84, 7.1),  
			octomath::Vector3 (24.9, -0.84, 6.7),  
			octomath::Vector3 (24.9, -0.84, 6.3),  
			octomath::Vector3 (24.9, -0.84, 5.9),  
			octomath::Vector3 (24.9, -0.84, 5.5),  
			octomath::Vector3 (25.3, -0.84, 10.3),  
			octomath::Vector3 (25.3, -0.84, 9.9),  
			octomath::Vector3 (25.3, -0.84, 9.5),  
			octomath::Vector3 (25.3, -0.84, 9.1),  
			octomath::Vector3 (25.3, -0.84, 8.7),  
			octomath::Vector3 (25.3, -0.84, 8.3),  
			octomath::Vector3 (25.3, -0.84, 7.9),  
			octomath::Vector3 (25.3, -0.84, 7.5),  
			octomath::Vector3 (25.3, -0.84, 7.1),  
			octomath::Vector3 (25.3, -0.84, 6.7),  
			octomath::Vector3 (25.3, -0.84, 6.3),  
			octomath::Vector3 (25.3, -0.84, 5.9),  
			octomath::Vector3 (25.3, -0.84, 5.5),  
			octomath::Vector3 (25.7, -0.84, 10.3),  
			octomath::Vector3 (25.7, -0.84, 9.9),  
			octomath::Vector3 (25.7, -0.84, 9.5),  
			octomath::Vector3 (25.7, -0.84, 9.1),  
			octomath::Vector3 (25.7, -0.84, 8.7),  
			octomath::Vector3 (25.7, -0.84, 8.3),  
			octomath::Vector3 (25.7, -0.84, 7.9),  
			octomath::Vector3 (25.7, -0.84, 7.5),  
			octomath::Vector3 (25.7, -0.84, 7.1),  
			octomath::Vector3 (25.7, -0.84, 6.7),  
			octomath::Vector3 (25.7, -0.84, 6.3),  
			octomath::Vector3 (25.7, -0.84, 5.9),  
			octomath::Vector3 (25.7, -0.84, 5.5),  
			octomath::Vector3 (26.1, -0.84, 10.3),  
			octomath::Vector3 (26.1, -0.84, 9.9),  
			octomath::Vector3 (26.1, -0.84, 9.5),  
			octomath::Vector3 (26.1, -0.84, 9.1),  
			octomath::Vector3 (26.1, -0.84, 8.7),  
			octomath::Vector3 (26.1, -0.84, 8.3),  
			octomath::Vector3 (26.1, -0.84, 7.9),  
			octomath::Vector3 (26.1, -0.84, 7.5),  
			octomath::Vector3 (26.1, -0.84, 7.1),  
			octomath::Vector3 (26.1, -0.84, 6.7),  
			octomath::Vector3 (26.1, -0.84, 6.3),  
			octomath::Vector3 (26.1, -0.84, 5.9),  
			octomath::Vector3 (26.1, -0.84, 5.5),  
			octomath::Vector3 (26.5, -0.84, 10.3),  
			octomath::Vector3 (26.5, -0.84, 9.9),  
			octomath::Vector3 (26.5, -0.84, 9.5),  
			octomath::Vector3 (26.5, -0.84, 9.1),  
			octomath::Vector3 (26.5, -0.84, 8.7),  
			octomath::Vector3 (26.5, -0.84, 8.3),  
			octomath::Vector3 (26.5, -0.84, 7.9),  
			octomath::Vector3 (26.5, -0.84, 7.5),  
			octomath::Vector3 (26.5, -0.84, 7.1),  
			octomath::Vector3 (26.5, -0.84, 6.7),  
			octomath::Vector3 (26.5, -0.84, 6.3),  
			octomath::Vector3 (26.5, -0.84, 5.9),  
			octomath::Vector3 (26.5, -0.84, 5.5),  
			octomath::Vector3 (26.9, -0.84, 10.3),  
			octomath::Vector3 (26.9, -0.84, 9.9),  
			octomath::Vector3 (26.9, -0.84, 9.5),  
			octomath::Vector3 (26.9, -0.84, 9.1),  
			octomath::Vector3 (26.9, -0.84, 8.7),  
			octomath::Vector3 (26.9, -0.84, 8.3),  
			octomath::Vector3 (26.9, -0.84, 7.9),  
			octomath::Vector3 (26.9, -0.84, 7.5),  
			octomath::Vector3 (26.9, -0.84, 7.1),  
			octomath::Vector3 (26.9, -0.84, 6.7),  
			octomath::Vector3 (26.9, -0.84, 6.3),  
			octomath::Vector3 (26.9, -0.84, 5.9),  
			octomath::Vector3 (26.9, -0.84, 5.5),  
			octomath::Vector3 (27.3, -0.84, 10.3),  
			octomath::Vector3 (27.3, -0.84, 9.9),  
			octomath::Vector3 (27.3, -0.84, 9.5),  
			octomath::Vector3 (27.3, -0.84, 9.1),  
			octomath::Vector3 (27.3, -0.84, 8.7),  
			octomath::Vector3 (27.3, -0.84, 8.3),  
			octomath::Vector3 (27.3, -0.84, 7.9),  
			octomath::Vector3 (27.3, -0.84, 7.5),  
			octomath::Vector3 (27.3, -0.84, 7.1),  
			octomath::Vector3 (27.3, -0.84, 6.7),  
			octomath::Vector3 (27.3, -0.84, 6.3),  
			octomath::Vector3 (27.3, -0.84, 5.9),  
			octomath::Vector3 (27.3, -0.84, 5.5),  
			octomath::Vector3 (27.7, -0.84, 10.3),  
			octomath::Vector3 (27.7, -0.84, 9.9),  
			octomath::Vector3 (27.7, -0.84, 9.5),  
			octomath::Vector3 (27.7, -0.84, 9.1),  
			octomath::Vector3 (27.7, -0.84, 8.7),  
			octomath::Vector3 (27.7, -0.84, 8.3),  
			octomath::Vector3 (27.7, -0.84, 7.9),  
			octomath::Vector3 (27.7, -0.84, 7.5),  
			octomath::Vector3 (27.7, -0.84, 7.1),  
			octomath::Vector3 (27.7, -0.84, 6.7),  
			octomath::Vector3 (27.7, -0.84, 6.3),  
			octomath::Vector3 (27.7, -0.84, 5.9),  
			octomath::Vector3 (27.7, -0.84, 5.5),  
			octomath::Vector3 (28.1, -0.84, 10.3),  
			octomath::Vector3 (28.1, -0.84, 9.9),  
			octomath::Vector3 (28.1, -0.84, 9.5),  
			octomath::Vector3 (28.1, -0.84, 9.1),  
			octomath::Vector3 (28.1, -0.84, 8.7),  
			octomath::Vector3 (28.1, -0.84, 8.3),  
			octomath::Vector3 (28.1, -0.84, 7.9),  
			octomath::Vector3 (28.1, -0.84, 7.5),  
			octomath::Vector3 (28.1, -0.84, 7.1),  
			octomath::Vector3 (28.1, -0.84, 6.7),  
			octomath::Vector3 (28.1, -0.84, 6.3),  
			octomath::Vector3 (28.1, -0.84, 5.9),  
			octomath::Vector3 (28.1, -0.84, 5.5),  
			octomath::Vector3 (28.5, -0.84, 10.3),  
			octomath::Vector3 (28.5, -0.84, 9.9),  
			octomath::Vector3 (28.5, -0.84, 9.5),  
			octomath::Vector3 (28.5, -0.84, 9.1),  
			octomath::Vector3 (28.5, -0.84, 8.7),  
			octomath::Vector3 (28.5, -0.84, 8.3),  
			octomath::Vector3 (28.5, -0.84, 7.9),  
			octomath::Vector3 (28.5, -0.84, 7.5),  
			octomath::Vector3 (28.5, -0.84, 7.1),  
			octomath::Vector3 (28.5, -0.84, 6.7),  
			octomath::Vector3 (28.5, -0.84, 6.3),  
			octomath::Vector3 (28.5, -0.84, 5.9),  
			octomath::Vector3 (28.5, -0.84, 5.5),  
		 }; 
		std::list <octomath::Vector3> end_points_correct = { 
			octomath::Vector3 (23.7, -2, 10.3),  
			octomath::Vector3 (23.7, -2, 9.9),  
			octomath::Vector3 (23.7, -2, 9.5),  
			octomath::Vector3 (23.7, -2, 9.1),  
			octomath::Vector3 (23.7, -2, 8.7),  
			octomath::Vector3 (23.7, -2, 8.3),  
			octomath::Vector3 (23.7, -2, 7.9),  
			octomath::Vector3 (23.7, -2, 7.5),  
			octomath::Vector3 (23.7, -2, 7.1),  
			octomath::Vector3 (23.7, -2, 6.7),  
			octomath::Vector3 (23.7, -2, 6.3),  
			octomath::Vector3 (23.7, -2, 5.9),  
			octomath::Vector3 (23.7, -2, 5.5),  
			octomath::Vector3 (24.1, -2, 10.3),  
			octomath::Vector3 (24.1, -2, 9.9),  
			octomath::Vector3 (24.1, -2, 9.5),  
			octomath::Vector3 (24.1, -2, 9.1),  
			octomath::Vector3 (24.1, -2, 8.7),  
			octomath::Vector3 (24.1, -2, 8.3),  
			octomath::Vector3 (24.1, -2, 7.9),  
			octomath::Vector3 (24.1, -2, 7.5),  
			octomath::Vector3 (24.1, -2, 7.1),  
			octomath::Vector3 (24.1, -2, 6.7),  
			octomath::Vector3 (24.1, -2, 6.3),  
			octomath::Vector3 (24.1, -2, 5.9),  
			octomath::Vector3 (24.1, -2, 5.5),  
			octomath::Vector3 (24.5, -2, 10.3),  
			octomath::Vector3 (24.5, -2, 9.9),  
			octomath::Vector3 (24.5, -2, 9.5),  
			octomath::Vector3 (24.5, -2, 9.1),  
			octomath::Vector3 (24.5, -2, 8.7),  
			octomath::Vector3 (24.5, -2, 8.3),  
			octomath::Vector3 (24.5, -2, 7.9),  
			octomath::Vector3 (24.5, -2, 7.5),  
			octomath::Vector3 (24.5, -2, 7.1),  
			octomath::Vector3 (24.5, -2, 6.7),  
			octomath::Vector3 (24.5, -2, 6.3),  
			octomath::Vector3 (24.5, -2, 5.9),  
			octomath::Vector3 (24.5, -2, 5.5),  
			octomath::Vector3 (24.9, -2, 10.3),  
			octomath::Vector3 (24.9, -2, 9.9),  
			octomath::Vector3 (24.9, -2, 9.5),  
			octomath::Vector3 (24.9, -2, 9.1),  
			octomath::Vector3 (24.9, -2, 8.7),  
			octomath::Vector3 (24.9, -2, 8.3),  
			octomath::Vector3 (24.9, -2, 7.9),  
			octomath::Vector3 (24.9, -2, 7.5),  
			octomath::Vector3 (24.9, -2, 7.1),  
			octomath::Vector3 (24.9, -2, 6.7),  
			octomath::Vector3 (24.9, -2, 6.3),  
			octomath::Vector3 (24.9, -2, 5.9),  
			octomath::Vector3 (24.9, -2, 5.5),  
			octomath::Vector3 (25.3, -2, 10.3),  
			octomath::Vector3 (25.3, -2, 9.9),  
			octomath::Vector3 (25.3, -2, 9.5),  
			octomath::Vector3 (25.3, -2, 9.1),  
			octomath::Vector3 (25.3, -2, 8.7),  
			octomath::Vector3 (25.3, -2, 8.3),  
			octomath::Vector3 (25.3, -2, 7.9),  
			octomath::Vector3 (25.3, -2, 7.5),  
			octomath::Vector3 (25.3, -2, 7.1),  
			octomath::Vector3 (25.3, -2, 6.7),  
			octomath::Vector3 (25.3, -2, 6.3),  
			octomath::Vector3 (25.3, -2, 5.9),  
			octomath::Vector3 (25.3, -2, 5.5),  
			octomath::Vector3 (25.7, -2, 10.3),  
			octomath::Vector3 (25.7, -2, 9.9),  
			octomath::Vector3 (25.7, -2, 9.5),  
			octomath::Vector3 (25.7, -2, 9.1),  
			octomath::Vector3 (25.7, -2, 8.7),  
			octomath::Vector3 (25.7, -2, 8.3),  
			octomath::Vector3 (25.7, -2, 7.9),  
			octomath::Vector3 (25.7, -2, 7.5),  
			octomath::Vector3 (25.7, -2, 7.1),  
			octomath::Vector3 (25.7, -2, 6.7),  
			octomath::Vector3 (25.7, -2, 6.3),  
			octomath::Vector3 (25.7, -2, 5.9),  
			octomath::Vector3 (25.7, -2, 5.5),  
			octomath::Vector3 (26.1, -2, 10.3),  
			octomath::Vector3 (26.1, -2, 9.9),  
			octomath::Vector3 (26.1, -2, 9.5),  
			octomath::Vector3 (26.1, -2, 9.1),  
			octomath::Vector3 (26.1, -2, 8.7),  
			octomath::Vector3 (26.1, -2, 8.3),  
			octomath::Vector3 (26.1, -2, 7.9),  
			octomath::Vector3 (26.1, -2, 7.5),  
			octomath::Vector3 (26.1, -2, 7.1),  
			octomath::Vector3 (26.1, -2, 6.7),  
			octomath::Vector3 (26.1, -2, 6.3),  
			octomath::Vector3 (26.1, -2, 5.9),  
			octomath::Vector3 (26.1, -2, 5.5),  
			octomath::Vector3 (26.5, -2, 10.3),  
			octomath::Vector3 (26.5, -2, 9.9),  
			octomath::Vector3 (26.5, -2, 9.5),  
			octomath::Vector3 (26.5, -2, 9.1),  
			octomath::Vector3 (26.5, -2, 8.7),  
			octomath::Vector3 (26.5, -2, 8.3),  
			octomath::Vector3 (26.5, -2, 7.9),  
			octomath::Vector3 (26.5, -2, 7.5),  
			octomath::Vector3 (26.5, -2, 7.1),  
			octomath::Vector3 (26.5, -2, 6.7),  
			octomath::Vector3 (26.5, -2, 6.3),  
			octomath::Vector3 (26.5, -2, 5.9),  
			octomath::Vector3 (26.5, -2, 5.5),  
			octomath::Vector3 (26.9, -2, 10.3),  
			octomath::Vector3 (26.9, -2, 9.9),  
			octomath::Vector3 (26.9, -2, 9.5),  
			octomath::Vector3 (26.9, -2, 9.1),  
			octomath::Vector3 (26.9, -2, 8.7),  
			octomath::Vector3 (26.9, -2, 8.3),  
			octomath::Vector3 (26.9, -2, 7.9),  
			octomath::Vector3 (26.9, -2, 7.5),  
			octomath::Vector3 (26.9, -2, 7.1),  
			octomath::Vector3 (26.9, -2, 6.7),  
			octomath::Vector3 (26.9, -2, 6.3),  
			octomath::Vector3 (26.9, -2, 5.9),  
			octomath::Vector3 (26.9, -2, 5.5),  
			octomath::Vector3 (27.3, -2, 10.3),  
			octomath::Vector3 (27.3, -2, 9.9),  
			octomath::Vector3 (27.3, -2, 9.5),  
			octomath::Vector3 (27.3, -2, 9.1),  
			octomath::Vector3 (27.3, -2, 8.7),  
			octomath::Vector3 (27.3, -2, 8.3),  
			octomath::Vector3 (27.3, -2, 7.9),  
			octomath::Vector3 (27.3, -2, 7.5),  
			octomath::Vector3 (27.3, -2, 7.1),  
			octomath::Vector3 (27.3, -2, 6.7),  
			octomath::Vector3 (27.3, -2, 6.3),  
			octomath::Vector3 (27.3, -2, 5.9),  
			octomath::Vector3 (27.3, -2, 5.5),  
			octomath::Vector3 (27.7, -2, 10.3),  
			octomath::Vector3 (27.7, -2, 9.9),  
			octomath::Vector3 (27.7, -2, 9.5),  
			octomath::Vector3 (27.7, -2, 9.1),  
			octomath::Vector3 (27.7, -2, 8.7),  
			octomath::Vector3 (27.7, -2, 8.3),  
			octomath::Vector3 (27.7, -2, 7.9),  
			octomath::Vector3 (27.7, -2, 7.5),  
			octomath::Vector3 (27.7, -2, 7.1),  
			octomath::Vector3 (27.7, -2, 6.7),  
			octomath::Vector3 (27.7, -2, 6.3),  
			octomath::Vector3 (27.7, -2, 5.9),  
			octomath::Vector3 (27.7, -2, 5.5),  
			octomath::Vector3 (28.1, -2, 10.3),  
			octomath::Vector3 (28.1, -2, 9.9),  
			octomath::Vector3 (28.1, -2, 9.5),  
			octomath::Vector3 (28.1, -2, 9.1),  
			octomath::Vector3 (28.1, -2, 8.7),  
			octomath::Vector3 (28.1, -2, 8.3),  
			octomath::Vector3 (28.1, -2, 7.9),  
			octomath::Vector3 (28.1, -2, 7.5),  
			octomath::Vector3 (28.1, -2, 7.1),  
			octomath::Vector3 (28.1, -2, 6.7),  
			octomath::Vector3 (28.1, -2, 6.3),  
			octomath::Vector3 (28.1, -2, 5.9),  
			octomath::Vector3 (28.1, -2, 5.5),  
			octomath::Vector3 (28.5, -2, 10.3),  
			octomath::Vector3 (28.5, -2, 9.9),  
			octomath::Vector3 (28.5, -2, 9.5),  
			octomath::Vector3 (28.5, -2, 9.1),  
			octomath::Vector3 (28.5, -2, 8.7),  
			octomath::Vector3 (28.5, -2, 8.3),  
			octomath::Vector3 (28.5, -2, 7.9),  
			octomath::Vector3 (28.5, -2, 7.5),  
			octomath::Vector3 (28.5, -2, 7.1),  
			octomath::Vector3 (28.5, -2, 6.7),  
			octomath::Vector3 (28.5, -2, 6.3),  
			octomath::Vector3 (28.5, -2, 5.9),  
			octomath::Vector3 (28.5, -2, 5.5),  
		 }; 


		std::list <octomath::Vector3> start_points_result, end_points_result; 
		getCorridorOccupancy_reboot(octree, start, end, geofence, marker_pub, false, start_points_result, end_points_result, false, true);
		ASSERT_TRUE (allPointsAreCorrect(start_points_result, start_points_correct));
		ASSERT_TRUE (allPointsAreCorrect(end_points_result, end_points_correct));
	}

	TEST (LazyThetaStarTests, ObstacleAvoidance_ForwardsInX_OnOrigin)
	{
		ros::Publisher marker_pub;
		octomap::OcTree octree ("data/20180808_1026_octree_noPath.bt");
		double safety_margin = 2;
		octomath::Vector3 geofence(safety_margin, safety_margin, safety_margin);
		octomath::Vector3 start (0, 0, 0);
		octomath::Vector3 end (2, 0, 0);
		std::list <octomath::Vector3> start_points_correct = { 
			octomath::Vector3 (-1.77636e-16, -0.8, -0.8),  
			octomath::Vector3 (-1.77636e-16, -0.8, -0.4),  
			octomath::Vector3 (-1.77636e-16, -0.8, 0),  
			octomath::Vector3 (-1.77636e-16, -0.8, 0.4),  
			octomath::Vector3 (-1.77636e-16, -0.8, 0.8),  
			octomath::Vector3 (-8.88178e-17, -0.4, -0.8),  
			octomath::Vector3 (-8.88178e-17, -0.4, -0.4),  
			octomath::Vector3 (-8.88178e-17, -0.4, 0),  
			octomath::Vector3 (-8.88178e-17, -0.4, 0.4),  
			octomath::Vector3 (-8.88178e-17, -0.4, 0.8),  
			octomath::Vector3 (0, 0, -0.8),  
			octomath::Vector3 (0, 0, -0.4),  
			octomath::Vector3 (0, 0, 0),  
			octomath::Vector3 (0, 0, 0.4),  
			octomath::Vector3 (0, 0, 0.8),  
			octomath::Vector3 (8.88178e-17, 0.4, -0.8),  
			octomath::Vector3 (8.88178e-17, 0.4, -0.4),  
			octomath::Vector3 (8.88178e-17, 0.4, 0),  
			octomath::Vector3 (8.88178e-17, 0.4, 0.4),  
			octomath::Vector3 (8.88178e-17, 0.4, 0.8),  
			octomath::Vector3 (1.77636e-16, 0.8, -0.8),  
			octomath::Vector3 (1.77636e-16, 0.8, -0.4),  
			octomath::Vector3 (1.77636e-16, 0.8, 0),  
			octomath::Vector3 (1.77636e-16, 0.8, 0.4),  
			octomath::Vector3 (1.77636e-16, 0.8, 0.8),  
		 }; 
		std::list <octomath::Vector3> end_points_correct = { 
			octomath::Vector3 (2, -0.8, -0.8),  
			octomath::Vector3 (2, -0.8, -0.4),  
			octomath::Vector3 (2, -0.8, 0),  
			octomath::Vector3 (2, -0.8, 0.4),  
			octomath::Vector3 (2, -0.8, 0.8),  
			octomath::Vector3 (2, -0.4, -0.8),  
			octomath::Vector3 (2, -0.4, -0.4),  
			octomath::Vector3 (2, -0.4, 0),  
			octomath::Vector3 (2, -0.4, 0.4),  
			octomath::Vector3 (2, -0.4, 0.8),  
			octomath::Vector3 (2, 0, -0.8),  
			octomath::Vector3 (2, 0, -0.4),  
			octomath::Vector3 (2, 0, 0),  
			octomath::Vector3 (2, 0, 0.4),  
			octomath::Vector3 (2, 0, 0.8),  
			octomath::Vector3 (2, 0.4, -0.8),  
			octomath::Vector3 (2, 0.4, -0.4),  
			octomath::Vector3 (2, 0.4, 0),  
			octomath::Vector3 (2, 0.4, 0.4),  
			octomath::Vector3 (2, 0.4, 0.8),  
			octomath::Vector3 (2, 0.8, -0.8),  
			octomath::Vector3 (2, 0.8, -0.4),  
			octomath::Vector3 (2, 0.8, 0),  
			octomath::Vector3 (2, 0.8, 0.4),  
			octomath::Vector3 (2, 0.8, 0.8),  
		 }; 


		std::list <octomath::Vector3> start_points_result, end_points_result; 
		getCorridorOccupancy_reboot(octree, start, end, geofence, marker_pub, false, start_points_result, end_points_result, false, true);
		ASSERT_TRUE (allPointsAreCorrect(start_points_result, start_points_correct));
		ASSERT_TRUE (allPointsAreCorrect(end_points_result, end_points_correct));
	}

	TEST (LazyThetaStarTests, ObstacleAvoidance_BackwardsInX_OnOrigin)
	{
		ros::Publisher marker_pub;
		octomap::OcTree octree ("data/20180808_1026_octree_noPath.bt");
		double safety_margin = 2;
		octomath::Vector3 geofence(safety_margin, safety_margin, safety_margin);
		octomath::Vector3 start (0, 0, 0);
		octomath::Vector3 end (-2, 0, 0);
		std::list <octomath::Vector3> start_points_correct = { 
			octomath::Vector3 (-1.77636e-16, 0.8, -0.8),  
			octomath::Vector3 (-1.77636e-16, 0.8, -0.4),  
			octomath::Vector3 (-1.77636e-16, 0.8, 0),  
			octomath::Vector3 (-1.77636e-16, 0.8, 0.4),  
			octomath::Vector3 (-1.77636e-16, 0.8, 0.8),  
			octomath::Vector3 (-8.88178e-17, 0.4, -0.8),  
			octomath::Vector3 (-8.88178e-17, 0.4, -0.4),  
			octomath::Vector3 (-8.88178e-17, 0.4, 0),  
			octomath::Vector3 (-8.88178e-17, 0.4, 0.4),  
			octomath::Vector3 (-8.88178e-17, 0.4, 0.8),  
			octomath::Vector3 (0, 0, -0.8),  
			octomath::Vector3 (0, 0, -0.4),  
			octomath::Vector3 (0, 0, 0),  
			octomath::Vector3 (0, 0, 0.4),  
			octomath::Vector3 (0, 0, 0.8),  
			octomath::Vector3 (8.88178e-17, -0.4, -0.8),  
			octomath::Vector3 (8.88178e-17, -0.4, -0.4),  
			octomath::Vector3 (8.88178e-17, -0.4, 0),  
			octomath::Vector3 (8.88178e-17, -0.4, 0.4),  
			octomath::Vector3 (8.88178e-17, -0.4, 0.8),  
			octomath::Vector3 (1.77636e-16, -0.8, -0.8),  
			octomath::Vector3 (1.77636e-16, -0.8, -0.4),  
			octomath::Vector3 (1.77636e-16, -0.8, 0),  
			octomath::Vector3 (1.77636e-16, -0.8, 0.4),  
			octomath::Vector3 (1.77636e-16, -0.8, 0.8),  
		 }; 
		std::list <octomath::Vector3> end_points_correct = { 
			octomath::Vector3 (-2, 0.8, -0.8),  
			octomath::Vector3 (-2, 0.8, -0.4),  
			octomath::Vector3 (-2, 0.8, 0),  
			octomath::Vector3 (-2, 0.8, 0.4),  
			octomath::Vector3 (-2, 0.8, 0.8),  
			octomath::Vector3 (-2, 0.4, -0.8),  
			octomath::Vector3 (-2, 0.4, -0.4),  
			octomath::Vector3 (-2, 0.4, 0),  
			octomath::Vector3 (-2, 0.4, 0.4),  
			octomath::Vector3 (-2, 0.4, 0.8),  
			octomath::Vector3 (-2, -2.22045e-16, -0.8),  
			octomath::Vector3 (-2, -2.22045e-16, -0.4),  
			octomath::Vector3 (-2, -2.22045e-16, 0),  
			octomath::Vector3 (-2, -2.22045e-16, 0.4),  
			octomath::Vector3 (-2, -2.22045e-16, 0.8),  
			octomath::Vector3 (-2, -0.4, -0.8),  
			octomath::Vector3 (-2, -0.4, -0.4),  
			octomath::Vector3 (-2, -0.4, 0),  
			octomath::Vector3 (-2, -0.4, 0.4),  
			octomath::Vector3 (-2, -0.4, 0.8),  
			octomath::Vector3 (-2, -0.8, -0.8),  
			octomath::Vector3 (-2, -0.8, -0.4),  
			octomath::Vector3 (-2, -0.8, 0),  
			octomath::Vector3 (-2, -0.8, 0.4),  
			octomath::Vector3 (-2, -0.8, 0.8),  
		 }; 



		std::list <octomath::Vector3> start_points_result, end_points_result; 
		getCorridorOccupancy_reboot(octree, start, end, geofence, marker_pub, false, start_points_result, end_points_result, false, true);
		ASSERT_TRUE (allPointsAreCorrect(start_points_result, start_points_correct));
		ASSERT_TRUE (allPointsAreCorrect(end_points_result, end_points_correct));
	}

}

int main(int argc, char **argv){
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}